[Log] JQMIGRATE: Migrate is installed, version 3.4.1 (load-scripts.php, line 5)
[Log] Jotunheim Comprehensive API loaded (jotun-comprehensive-api.js, line 526)
[Log] 🚀🚀� UNIFIED TELLER: Initialization check: – Object (unified-teller.js, line 5257)
Object
[Log] 🚀🚀� UNIFIED TELLER: Conditions met, initializing UnifiedTeller... (unified-teller.js, line 5266)
[Log] �🚀🚀 UNIFIED TELLER: Event listener registered for shopRotationChanged (unified-teller.js, line 85)
[Log] DEBUG: Clear transaction button found: –  (unified-teller.js, line 110)
<button id="clear-transaction-btn" class="field-input clear-transaction-btn" onclick="console.log('🚨 DEBUG: Clear button onclick fired'); if(window.unifiedTeller) { console.log('🚨 DEBUG: unifiedTeller found, typeof clearCart:', typeof window.unifiedTeller.clearCart); try { console.log('🚨 ONCLICK: About to call clearCart'); window.unifiedTeller.clearCart(); console.log('🚨 ONCLICK: clearCart completed'); } catch(e) { console.error('🚨 ERROR in onclick clearCart():', e); console.error('🚨 ERROR stack:', e.stack); } } else { console.log('🚨 ERROR: unifiedTeller not found on window'); }">Clear Transaction</button>

<button id="clear-transaction-btn" class="field-input clear-transaction-btn" onclick="console.log('🚨 DEBUG: Clear button onclick fired'); if(window.unifiedTeller) { console.log('🚨 DEBUG: unifiedTeller found, typeof clearCart:', typeof window.unifiedTeller.clearCart); try { console.log('🚨 ONCLICK: About to call clearCart'); window.unifiedTeller.clearCart(); console.log('🚨 ONCLICK: clearCart completed'); } catch(e) { console.error('🚨 ERROR in onclick clearCart():', e); console.error('🚨 ERROR stack:', e.stack); } } else { console.log('🚨 ERROR: unifiedTeller not found on window'); }">Clear Transaction</button>
[Log] DEBUG: Clear transaction event listener attached (unified-teller.js, line 125)
[Log] UnifiedTeller: Starting to load initial data... (unified-teller.js, line 217)
[Log] JotunAPI is available, loading data... (unified-teller.js, line 233)
[Log] Loading shops for selector... (unified-teller.js, line 423)
[Log] JotunAPI status: – "object" (unified-teller.js, line 424)
[Log] jotun_api_vars: – Object (unified-teller.js, line 425)
Object
[Log] Testing direct API call to: – "/wp-json/jotun-api/v1/shops" (unified-teller.js, line 433)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/shops" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – Object (jotun-comprehensive-api.js, line 31)
Object
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] UnifiedTeller constructor completed, preventOverLimit method: – "function" (unified-teller.js, line 18)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – Object (jotun-comprehensive-api.js, line 39)
Object
[Log] Shop API response: – Object (unified-teller.js, line 436)
Object
[Log] Shops data received: – Array (3) (unified-teller.js, line 439)
Array (3)
[Log] DEBUG - Populating unified teller shop selector with: – Array (3) (unified-teller.js, line 465)
Array (3)
[Log] DEBUG - Processing shop: – Object (unified-teller.js, line 470)
Object
[Log] DEBUG - Added shop option: – "Aesir Spells & Items" – "with rotation:" – "1" (unified-teller.js, line 480)
[Log] DEBUG - Processing shop: – Object (unified-teller.js, line 470)
Object
[Log] DEBUG - Added shop option: – "Call to Arms" – "with rotation:" – "1" (unified-teller.js, line 480)
[Log] DEBUG - Processing shop: – Object (unified-teller.js, line 470)
Object
[Log] DEBUG - Added shop option: – "Popup Shop" – "with rotation:" – "1" (unified-teller.js, line 480)
[Log] DEBUG - Shop selector populated with – 3 – "active shops" (unified-teller.js, line 486)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/playerlist" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – Object (jotun-comprehensive-api.js, line 31)
Object
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – Object (jotun-comprehensive-api.js, line 39)
Object
[Log] DEBUG - Loaded player list: – Array (713) (unified-teller.js, line 246)
Array (713)
[Error] Failed to load resource: the server responded with a status of 403 (Forbidden) (current, line 0)
[Warning] User endpoint access denied - using fallback (unified-teller.js, line 288)
> Selected Element
< <div id="unified-teller-interface" class="teller-app">…</div>
[Log] 🚨 DEBUG: Current cart contents: – [] (0) (unified-teller.js, line 2181)
[Log] 🚨 DEBUG: Cart array set to empty. New length: – 0 (unified-teller.js, line 2184)
[Log] 🚨 DEBUG: updateCartDisplay() called (unified-teller.js, line 2187)
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 3122)
[Log] 🚨 DEBUG: viewCartBtn found: – true (unified-teller.js, line 3123)
[Log] 🚨 DEBUG: cart length: – 0 (unified-teller.js, line 3124)
[Log] 🚨 DEBUG: cart contents: – [] (0) (unified-teller.js, line 3125)
[Log] 🚨 DEBUG: Updating View Cart button: – {hasItems: false, cartLength: 0} (unified-teller.js, line 3129)
[Log] 🚨 DEBUG: View Cart button updated - disabled: – true – "text:" – "View Cart" (unified-teller.js, line 3146)
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 2191)
[Log] 🚨 DEBUG: updateRecordTransactionButton() called (unified-teller.js, line 2194)
[Log] DEBUG: resetItemDisplay() called. Cart length: 0 (unified-teller.js, line 2208)
[Log] DEBUG: Clearing 0 input fields (unified-teller.js, line 2224)
[Log] 🚨 DEBUG: resetItemDisplay() called (unified-teller.js, line 2198)
[Log] 🚨 DEBUG: showShopView() called (unified-teller.js, line 3081)
[Log] 🚨 DEBUG: Setting isCartView to false (unified-teller.js, line 3082)
[Log] 🚨 DEBUG: shopInventoryCard found: – true (unified-teller.js, line 3087)
[Log] 🚨 DEBUG: transactionSummaryCard found: – true (unified-teller.js, line 3094)
[Log] 🚨 DEBUG: Buttons found - viewCart: – true – "record:" – true – "back:" – true (unified-teller.js, line 3104)
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 3122)
[Log] 🚨 DEBUG: viewCartBtn found: – true (unified-teller.js, line 3123)
[Log] 🚨 DEBUG: cart length: – 0 (unified-teller.js, line 3124)
[Log] 🚨 DEBUG: cart contents: – [] (0) (unified-teller.js, line 3125)
[Log] 🚨 DEBUG: Updating View Cart button: – {hasItems: false, cartLength: 0} (unified-teller.js, line 3129)
[Log] 🚨 DEBUG: View Cart button updated - disabled: – true – "text:" – "View Cart" (unified-teller.js, line 3146)
[Log] 🚨 DEBUG: showShopView() called (unified-teller.js, line 2202)
[Log] 🚨🚨🚨 DEBUG: clearCart() completed - CART CLEARING FINISHED (unified-teller.js, line 2204)
[Log] Loading shop items for shop ID: – "138" – "rotation:" – "1" (unified-teller.js, line 660)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/shop-items?shop_id=138&rotation=1" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – {method: "GET", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}} (jotun-comprehensive-api.js, line 31)
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {data: Array} (jotun-comprehensive-api.js, line 39)
{data: Array}Object
[Log] Raw shop items from API: – [Object] (1) (unified-teller.js, line 665)
[Object]Array (1)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/itemlist" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – {method: "GET", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}} (jotun-comprehensive-api.js, line 31)
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] DEBUG: About to force button state update. Cart length: 0 (unified-teller.js, line 2238)
[Log] 🚨 DEBUG: forceButtonStateUpdate() called, cart length: – 0 (unified-teller.js, line 2319)
[Log] 🚨 DEBUG: Cart contents: – [] (0) (unified-teller.js, line 2320)
[Log] 🚨 DEBUG: Found 0 turn-in buttons to update (unified-teller.js, line 2333)
[Log] 🚨 DEBUG: forceButtonStateUpdate() completed (unified-teller.js, line 2360)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {data: Array} (jotun-comprehensive-api.js, line 39)
{data: Array}Object
[Log] Item list response: – {data: Array} (unified-teller.js, line 669)
{data: Array}Object
[Log] Enriched shop items: – [Object] (1) (unified-teller.js, line 722)
[Object]Array (1)
[Log] No individual buy button found for item: – "Unbreakable Oath" (unified-teller.js, line 1149)
[Log] No sell button found for item: – "Unbreakable Oath" (unified-teller.js, line 1180)
[Log] No turn-in button found for item: – "Unbreakable Oath" (unified-teller.js, line 1195)
[Log] getCurrentShopType: – {selectedShop: "138", selectedOption: <option>, shopType: "aesir"} (unified-teller.js, line 773)
{selectedShop: "138", selectedOption: <option>, shopType: "aesir"}Object
[Log] Setting up tracking interface: – {selectedShop: "138", shopType: "aesir", isTurnInOnly: false} (unified-teller.js, line 728)
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 3122)
[Log] 🚨 DEBUG: viewCartBtn found: – true (unified-teller.js, line 3123)
[Log] 🚨 DEBUG: cart length: – 0 (unified-teller.js, line 3124)
[Log] 🚨 DEBUG: cart contents: – [] (0) (unified-teller.js, line 3125)
[Log] 🚨 DEBUG: Updating View Cart button: – {hasItems: false, cartLength: 0} (unified-teller.js, line 3129)
[Log] 🚨 DEBUG: View Cart button updated - disabled: – true – "text:" – "View Cart" (unified-teller.js, line 3146)
[Log] 🔍 DEBUG Transaction History: selectedShop: – "138" (unified-teller.js, line 2594)
[Log] 🔍 DEBUG Transaction History: selectedOption: –  (unified-teller.js, line 2595)
<option value="138" data-shop-name="Aesir Spells & Items" data-shop-type="aesir" data-current-rotation="1">Aesir Spells & Items</option>

<option value="138" data-shop-name="Aesir Spells & Items" data-shop-type="aesir" data-current-rotation="1">Aesir Spells & Items</option>
[Log] 🔍 DEBUG Transaction History: shopName from dataset: – "Aesir Spells & Items" (unified-teller.js, line 2596)
[Log] 🔍 DEBUG Transaction History: shopType from dataset: – "aesir" (unified-teller.js, line 2597)
[Log] 🔍 DEBUG Transaction History: Aesir shop detected - ledger stores balances, not individual transactions (unified-teller.js, line 2609)
[Log] 🔍 DEBUG Transaction History: Added shop_name filter: – "Aesir Spells & Items" (unified-teller.js, line 2613)
[Log] 🔍 DEBUG Transaction History: Final params: – {shop_name: "Aesir Spells & Items", limit: 50} (unified-teller.js, line 2620)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/transactions?shop_name=Aesir+Spells+%26+Items&limit=50" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – {method: "GET", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}} (jotun-comprehensive-api.js, line 31)
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {data: []} (jotun-comprehensive-api.js, line 39)
[Log] 🔍 DEBUG Transaction History: API response: – {data: []} (unified-teller.js, line 2622)
[Log] 🔍 DEBUG Render Transaction History: transactions received: – [] (0) (unified-teller.js, line 2639)
[Log] 🔍 DEBUG Render Transaction History: selectedShop: – "138" (unified-teller.js, line 2640)
[Log] 🔍 DEBUG Render Transaction History: Empty state message: – "<div class=\"transaction-item\">Aesir shops use a balance system (jotun_ledger) rather than individual transaction records</div>" (unified-teller.js, line 2660)
[Log] handleCustomerSearch called with: – "T" (unified-teller.js, line 3718)
[Log] handleCustomerSearch called with: – "Te" (unified-teller.js, line 3718)
[Log] Filtered players: – [Object, Object, Object, …] (44) (unified-teller.js, line 3748)
[Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, …]Array (44)
[Log] handleCustomerSearch called with: – "Tes" (unified-teller.js, line 3718)
[Log] Filtered players: – [Object, Object, Object, …] (16) (unified-teller.js, line 3748)
[Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, …]Array (16)
[Log] handleCustomerSearch called with: – "Test" (unified-teller.js, line 3718)
[Log] Filtered players: – [Object, Object, Object, …] (12) (unified-teller.js, line 3748)
[Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, …]Array (12)
[Log] Exact match found: – "Test" (unified-teller.js, line 3756)
[Log] Validating customer: – "Test" (unified-teller.js, line 1674)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/playerlist?search=Test" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – {method: "GET", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}} (jotun-comprehensive-api.js, line 31)
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {data: Array} (jotun-comprehensive-api.js, line 39)
{data: Array}Object
[Log] Search API response: – {data: Array} (unified-teller.js, line 1678)
{data: Array}Object
[Log] Players found from search: – [Object, Object, Object, …] (12) (unified-teller.js, line 1680)
[Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, …]Array (12)
[Log] Checking player: Test4, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: Test69, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: Test11, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: Test9, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: Test8, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: Test7, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: test5, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: Test6, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: Test, activeMatch: true, nameMatch: true (unified-teller.js, line 1703)
[Log] Player found result: – {id: "209", score: "0", level: "1", …} (unified-teller.js, line 1707)
{id: "209", score: "0", level: "1", created_at: "2025-09-22 14:24:50", steam_id: "", …}Object
[Log] Validation successful for: – "Test" (unified-teller.js, line 1709)
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 3122)
[Log] 🚨 DEBUG: viewCartBtn found: – true (unified-teller.js, line 3123)
[Log] 🚨 DEBUG: cart length: – 0 (unified-teller.js, line 3124)
[Log] 🚨 DEBUG: cart contents: – [] (0) (unified-teller.js, line 3125)
[Log] 🚨 DEBUG: Updating View Cart button: – {hasItems: false, cartLength: 0} (unified-teller.js, line 3129)
[Log] 🚨 DEBUG: View Cart button updated - disabled: – true – "text:" – "View Cart" (unified-teller.js, line 3146)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/transactions?customer_name=Test&transaction_type=turnin&hours=24" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – {method: "GET", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}} (jotun-comprehensive-api.js, line 31)
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {data: Array} (jotun-comprehensive-api.js, line 39)
{data: Array}Object
[Log] Daily turn-in data loaded: – {Bear Hide: 4} (unified-teller.js, line 949)
[Log] Preserving quantities and re-rendering items... (unified-teller.js, line 3406)
[Log] Saved buy-qty-44: 1 (unified-teller.js, line 3423)
[Log] No individual buy button found for item: – "Unbreakable Oath" (unified-teller.js, line 1149)
[Log] No sell button found for item: – "Unbreakable Oath" (unified-teller.js, line 1180)
[Log] No turn-in button found for item: – "Unbreakable Oath" (unified-teller.js, line 1195)
[Log] Restored buy-qty-44: 1 (unified-teller.js, line 3436)
[Log] Recalculating all progress displays based on current input values... (unified-teller.js, line 3446)
[Log] Progress recalculation complete. (unified-teller.js, line 3468)
[Log] getCurrentShopType: – {selectedShop: "138", selectedOption: <option>, shopType: "aesir"} (unified-teller.js, line 773)
{selectedShop: "138", selectedOption: <option>, shopType: "aesir"}Object
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 3122)
[Log] 🚨 DEBUG: viewCartBtn found: – true (unified-teller.js, line 3123)
[Log] 🚨 DEBUG: cart length: – 1 (unified-teller.js, line 3124)
[Log] 🚨 DEBUG: cart contents: – [Object] (1) (unified-teller.js, line 3125)
[Object]Array (1)
[Log] 🚨 DEBUG: Updating View Cart button: – {hasItems: true, cartLength: 1} (unified-teller.js, line 3129)
[Log] 🚨 DEBUG: View Cart button updated - disabled: – false – "text:" – "View Cart (1)" (unified-teller.js, line 3146)
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 3122)
[Log] 🚨 DEBUG: viewCartBtn found: – true (unified-teller.js, line 3123)
[Log] 🚨 DEBUG: cart length: – 1 (unified-teller.js, line 3124)
[Log] 🚨 DEBUG: cart contents: – [Object] (1) (unified-teller.js, line 3125)
[Object]Array (1)
[Log] 🚨 DEBUG: Updating View Cart button: – {hasItems: true, cartLength: 1} (unified-teller.js, line 3129)
[Log] 🚨 DEBUG: View Cart button updated - disabled: – false – "text:" – "View Cart (1)" (unified-teller.js, line 3146)
[Log] Switching to cart view (unified-teller.js, line 3046)
[Log] getCurrentShopType: – {selectedShop: "138", selectedOption: <option>, shopType: "aesir"} (unified-teller.js, line 773)
{selectedShop: "138", selectedOption: <option>, shopType: "aesir"}Object
[Log] 🔍 DEBUG Price calculation: – {item_name: "Unbreakable Oath", raw_price: "10000", raw_unit_price: "10000", …} (unified-teller.js, line 2433)
{item_name: "Unbreakable Oath", raw_price: "10000", raw_unit_price: "10000", parsed_itemPrice: 10000, quantity: 1, …}Object
[Log] Recording individual transaction: – {shop_id: "138", shop_name: "Aesir Spells & Items", shop_type: "aesir", …} (unified-teller.js, line 2510)
{shop_id: "138", shop_name: "Aesir Spells & Items", shop_type: "aesir", item_name: "Unbreakable Oath", item_id: undefined, …}Object
[Log] Making API request: – "POST" – "/wp-json/jotun-api/v1/transactions" – {shop_id: "138", shop_name: "Aesir Spells & Items", shop_type: "aesir", …} (jotun-comprehensive-api.js, line 17)
{shop_id: "138", shop_name: "Aesir Spells & Items", shop_type: "aesir", item_name: "Unbreakable Oath", item_id: undefined, …}Object
[Log] Request config: – {method: "POST", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}, body: "{\"shop_id\":\"138\",\"shop_name\":\"Aesir Spells & Items…\"\",\"transaction_date\":\"2025-10-04T00:09:45.801Z\"}"} (jotun-comprehensive-api.js, line 31)
{method: "POST", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}, body: "{\"shop_id\":\"138\",\"shop_name\":\"Aesir Spells & Items…\"\",\"transaction_date\":\"2025-10-04T00:09:45.801Z\"}"}Object
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] Response received: – 201 – "Created" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {message: "Aesir transaction recorded in ledger", table: "jotun_ledger"} (jotun-comprehensive-api.js, line 39)
[Log] Individual transaction response: – {message: "Aesir transaction recorded in ledger", table: "jotun_ledger"} (unified-teller.js, line 2513)
[Log] 🚨 DEBUG: Current cart contents: – [Object] (1) (unified-teller.js, line 2181)
[Object]Array (1)
[Log] 🚨 DEBUG: Cart array set to empty. New length: – 0 (unified-teller.js, line 2184)
[Log] 🚨 DEBUG: updateCartDisplay() called (unified-teller.js, line 2187)
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 3122)
[Log] 🚨 DEBUG: viewCartBtn found: – true (unified-teller.js, line 3123)
[Log] 🚨 DEBUG: cart length: – 0 (unified-teller.js, line 3124)
[Log] 🚨 DEBUG: cart contents: – [] (0) (unified-teller.js, line 3125)
[Log] 🚨 DEBUG: Updating View Cart button: – {hasItems: false, cartLength: 0} (unified-teller.js, line 3129)
[Log] 🚨 DEBUG: View Cart button updated - disabled: – true – "text:" – "View Cart" (unified-teller.js, line 3146)
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 2191)
[Log] 🚨 DEBUG: updateRecordTransactionButton() called (unified-teller.js, line 2194)
[Log] DEBUG: resetItemDisplay() called. Cart length: 0 (unified-teller.js, line 2208)
[Log] DEBUG: Clearing 0 input fields (unified-teller.js, line 2224)
[Log] No individual buy button found for item: – "Unbreakable Oath" (unified-teller.js, line 1149)
[Log] No sell button found for item: – "Unbreakable Oath" (unified-teller.js, line 1180)
[Log] No turn-in button found for item: – "Unbreakable Oath" (unified-teller.js, line 1195)
[Log] 🚨 DEBUG: resetItemDisplay() called (unified-teller.js, line 2198)
[Log] 🚨 DEBUG: showShopView() called (unified-teller.js, line 3081)
[Log] 🚨 DEBUG: Setting isCartView to false (unified-teller.js, line 3082)
[Log] 🚨 DEBUG: shopInventoryCard found: – true (unified-teller.js, line 3087)
[Log] 🚨 DEBUG: transactionSummaryCard found: – true (unified-teller.js, line 3094)
[Log] 🚨 DEBUG: Buttons found - viewCart: – true – "record:" – true – "back:" – true (unified-teller.js, line 3104)
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 3122)
[Log] 🚨 DEBUG: viewCartBtn found: – true (unified-teller.js, line 3123)
[Log] 🚨 DEBUG: cart length: – 0 (unified-teller.js, line 3124)
[Log] 🚨 DEBUG: cart contents: – [] (0) (unified-teller.js, line 3125)
[Log] 🚨 DEBUG: Updating View Cart button: – {hasItems: false, cartLength: 0} (unified-teller.js, line 3129)
[Log] 🚨 DEBUG: View Cart button updated - disabled: – true – "text:" – "View Cart" (unified-teller.js, line 3146)
[Log] 🚨 DEBUG: showShopView() called (unified-teller.js, line 2202)
[Log] 🚨🚨🚨 DEBUG: clearCart() completed - CART CLEARING FINISHED (unified-teller.js, line 2204)
[Log] Loading shop items for shop ID: – "138" – "rotation:" – "1" (unified-teller.js, line 660)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/shop-items?shop_id=138&rotation=1" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – {method: "GET", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}} (jotun-comprehensive-api.js, line 31)
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {data: Array} (jotun-comprehensive-api.js, line 39)
{data: Array}Object
[Log] Raw shop items from API: – [Object] (1) (unified-teller.js, line 665)
[Object]Array (1)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/itemlist" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – {method: "GET", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}} (jotun-comprehensive-api.js, line 31)
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] DEBUG: About to force button state update. Cart length: 0 (unified-teller.js, line 2238)
[Log] 🚨 DEBUG: forceButtonStateUpdate() called, cart length: – 0 (unified-teller.js, line 2319)
[Log] 🚨 DEBUG: Cart contents: – [] (0) (unified-teller.js, line 2320)
[Log] 🚨 DEBUG: Found 0 turn-in buttons to update (unified-teller.js, line 2333)
[Log] 🚨 DEBUG: forceButtonStateUpdate() completed (unified-teller.js, line 2360)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {data: Array} (jotun-comprehensive-api.js, line 39)
{data: Array}Object
[Log] Item list response: – {data: Array} (unified-teller.js, line 669)
{data: Array}Object
[Log] Enriched shop items: – [Object] (1) (unified-teller.js, line 722)
[Object]Array (1)
[Log] No individual buy button found for item: – "Unbreakable Oath" (unified-teller.js, line 1149)
[Log] No sell button found for item: – "Unbreakable Oath" (unified-teller.js, line 1180)
[Log] No turn-in button found for item: – "Unbreakable Oath" (unified-teller.js, line 1195)
[Log] getCurrentShopType: – {selectedShop: "138", selectedOption: <option>, shopType: "aesir"} (unified-teller.js, line 773)
{selectedShop: "138", selectedOption: <option>, shopType: "aesir"}Object
[Log] Setting up tracking interface: – {selectedShop: "138", shopType: "aesir", isTurnInOnly: false} (unified-teller.js, line 728)
[Log] 🔍 DEBUG Transaction History: selectedShop: – "138" (unified-teller.js, line 2594)
[Log] 🔍 DEBUG Transaction History: selectedOption: –  (unified-teller.js, line 2595)
<option value="138" data-shop-name="Aesir Spells & Items" data-shop-type="aesir" data-current-rotation="1">Aesir Spells & Items</option>

<option value="138" data-shop-name="Aesir Spells & Items" data-shop-type="aesir" data-current-rotation="1">Aesir Spells & Items</option>
[Log] 🔍 DEBUG Transaction History: shopName from dataset: – "Aesir Spells & Items" (unified-teller.js, line 2596)
[Log] 🔍 DEBUG Transaction History: shopType from dataset: – "aesir" (unified-teller.js, line 2597)
[Log] 🔍 DEBUG Transaction History: Aesir shop detected - ledger stores balances, not individual transactions (unified-teller.js, line 2609)
[Log] 🔍 DEBUG Transaction History: Added shop_name filter: – "Aesir Spells & Items" (unified-teller.js, line 2613)
[Log] 🔍 DEBUG Transaction History: Final params: – {shop_name: "Aesir Spells & Items", limit: 50} (unified-teller.js, line 2620)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/transactions?shop_name=Aesir+Spells+%26+Items&limit=50" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – {method: "GET", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}} (jotun-comprehensive-api.js, line 31)
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {data: []} (jotun-comprehensive-api.js, line 39)
[Log] 🔍 DEBUG Transaction History: API response: – {data: []} (unified-teller.js, line 2622)
[Log] 🔍 DEBUG Render Transaction History: transactions received: – [] (0) (unified-teller.js, line 2639)
[Log] 🔍 DEBUG Render Transaction History: selectedShop: – "138" (unified-teller.js, line 2640)
[Log] 🔍 DEBUG Render Transaction History: Empty state message: – "<div class=\"transaction-item\">Aesir shops use a balance system (jotun_ledger) rather than individual transaction records</div>" (unified-teller.js, line 2660)
[Log] handleCustomerSearch called with: – "T" (unified-teller.js, line 3718)
[Log] handleCustomerSearch called with: – "Te" (unified-teller.js, line 3718)
[Log] Filtered players: – [Object, Object, Object, …] (44) (unified-teller.js, line 3748)
[Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, …]Array (44)
[Log] handleCustomerSearch called with: – "Tes" (unified-teller.js, line 3718)
[Log] Filtered players: – [Object, Object, Object, …] (16) (unified-teller.js, line 3748)
[Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, …]Array (16)
[Log] handleCustomerSearch called with: – "Test" (unified-teller.js, line 3718)
[Log] Filtered players: – [Object, Object, Object, …] (12) (unified-teller.js, line 3748)
[Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, …]Array (12)
[Log] Exact match found: – "Test" (unified-teller.js, line 3756)
[Log] Validating customer: – "Test" (unified-teller.js, line 1674)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/playerlist?search=Test" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – {method: "GET", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}} (jotun-comprehensive-api.js, line 31)
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {data: Array} (jotun-comprehensive-api.js, line 39)
{data: Array}Object
[Log] Search API response: – {data: Array} (unified-teller.js, line 1678)
{data: Array}Object
[Log] Players found from search: – [Object, Object, Object, …] (12) (unified-teller.js, line 1680)
[Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, …]Array (12)
[Log] Checking player: Test4, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: Test69, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: Test11, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: Test9, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: Test8, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: Test7, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: test5, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: Test6, activeMatch: false, nameMatch: false (unified-teller.js, line 1703)
[Log] Checking player: Test, activeMatch: true, nameMatch: true (unified-teller.js, line 1703)
[Log] Player found result: – {id: "209", score: "0", level: "1", …} (unified-teller.js, line 1707)
{id: "209", score: "0", level: "1", created_at: "2025-09-22 14:24:50", steam_id: "", …}Object
[Log] Validation successful for: – "Test" (unified-teller.js, line 1709)
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 3122)
[Log] 🚨 DEBUG: viewCartBtn found: – true (unified-teller.js, line 3123)
[Log] 🚨 DEBUG: cart length: – 0 (unified-teller.js, line 3124)
[Log] 🚨 DEBUG: cart contents: – [] (0) (unified-teller.js, line 3125)
[Log] 🚨 DEBUG: Updating View Cart button: – {hasItems: false, cartLength: 0} (unified-teller.js, line 3129)
[Log] 🚨 DEBUG: View Cart button updated - disabled: – true – "text:" – "View Cart" (unified-teller.js, line 3146)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/transactions?customer_name=Test&transaction_type=turnin&hours=24" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – {method: "GET", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}} (jotun-comprehensive-api.js, line 31)
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {data: Array} (jotun-comprehensive-api.js, line 39)
{data: Array}Object
[Log] Daily turn-in data loaded: – {Bear Hide: 4} (unified-teller.js, line 949)
[Log] Preserving quantities and re-rendering items... (unified-teller.js, line 3406)
[Log] Saved buy-qty-44: 1 (unified-teller.js, line 3423)
[Log] No individual buy button found for item: – "Unbreakable Oath" (unified-teller.js, line 1149)
[Log] No sell button found for item: – "Unbreakable Oath" (unified-teller.js, line 1180)
[Log] No turn-in button found for item: – "Unbreakable Oath" (unified-teller.js, line 1195)
[Log] Restored buy-qty-44: 1 (unified-teller.js, line 3436)
[Log] Recalculating all progress displays based on current input values... (unified-teller.js, line 3446)
[Log] Progress recalculation complete. (unified-teller.js, line 3468)
[Log] getCurrentShopType: – {selectedShop: "138", selectedOption: <option>, shopType: "aesir"} (unified-teller.js, line 773)
{selectedShop: "138", selectedOption: <option>, shopType: "aesir"}Object
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 3122)
[Log] 🚨 DEBUG: viewCartBtn found: – true (unified-teller.js, line 3123)
[Log] 🚨 DEBUG: cart length: – 1 (unified-teller.js, line 3124)
[Log] 🚨 DEBUG: cart contents: – [Object] (1) (unified-teller.js, line 3125)
[Object]Array (1)
[Log] 🚨 DEBUG: Updating View Cart button: – {hasItems: true, cartLength: 1} (unified-teller.js, line 3129)
[Log] 🚨 DEBUG: View Cart button updated - disabled: – false – "text:" – "View Cart (1)" (unified-teller.js, line 3146)
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 3122)
[Log] 🚨 DEBUG: viewCartBtn found: – true (unified-teller.js, line 3123)
[Log] 🚨 DEBUG: cart length: – 1 (unified-teller.js, line 3124)
[Log] 🚨 DEBUG: cart contents: – [Object] (1) (unified-teller.js, line 3125)
[Object]Array (1)
[Log] 🚨 DEBUG: Updating View Cart button: – {hasItems: true, cartLength: 1} (unified-teller.js, line 3129)
[Log] 🚨 DEBUG: View Cart button updated - disabled: – false – "text:" – "View Cart (1)" (unified-teller.js, line 3146)
[Log] Switching to cart view (unified-teller.js, line 3046)
[Log] getCurrentShopType: – {selectedShop: "138", selectedOption: <option>, shopType: "aesir"} (unified-teller.js, line 773)
{selectedShop: "138", selectedOption: <option>, shopType: "aesir"}Object
[Log] 🔍 DEBUG Price calculation: – {item_name: "Unbreakable Oath", raw_price: "10000", raw_unit_price: "10000", …} (unified-teller.js, line 2433)
{item_name: "Unbreakable Oath", raw_price: "10000", raw_unit_price: "10000", parsed_itemPrice: 10000, quantity: 1, …}Object
[Log] Recording individual transaction: – {shop_id: "138", shop_name: "Aesir Spells & Items", shop_type: "aesir", …} (unified-teller.js, line 2510)
{shop_id: "138", shop_name: "Aesir Spells & Items", shop_type: "aesir", item_name: "Unbreakable Oath", item_id: undefined, …}Object
[Log] Making API request: – "POST" – "/wp-json/jotun-api/v1/transactions" – {shop_id: "138", shop_name: "Aesir Spells & Items", shop_type: "aesir", …} (jotun-comprehensive-api.js, line 17)
{shop_id: "138", shop_name: "Aesir Spells & Items", shop_type: "aesir", item_name: "Unbreakable Oath", item_id: undefined, …}Object
[Log] Request config: – {method: "POST", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}, body: "{\"shop_id\":\"138\",\"shop_name\":\"Aesir Spells & Items…\"\",\"transaction_date\":\"2025-10-04T00:11:40.299Z\"}"} (jotun-comprehensive-api.js, line 31)
{method: "POST", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}, body: "{\"shop_id\":\"138\",\"shop_name\":\"Aesir Spells & Items…\"\",\"transaction_date\":\"2025-10-04T00:11:40.299Z\"}"}Object
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] Response received: – 201 – "Created" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {message: "Aesir transaction recorded in ledger", table: "jotun_ledger"} (jotun-comprehensive-api.js, line 39)
[Log] Individual transaction response: – {message: "Aesir transaction recorded in ledger", table: "jotun_ledger"} (unified-teller.js, line 2513)
[Log] 🚨 DEBUG: Current cart contents: – [Object] (1) (unified-teller.js, line 2181)
[Object]Array (1)
[Log] 🚨 DEBUG: Cart array set to empty. New length: – 0 (unified-teller.js, line 2184)
[Log] 🚨 DEBUG: updateCartDisplay() called (unified-teller.js, line 2187)
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 3122)
[Log] 🚨 DEBUG: viewCartBtn found: – true (unified-teller.js, line 3123)
[Log] 🚨 DEBUG: cart length: – 0 (unified-teller.js, line 3124)
[Log] 🚨 DEBUG: cart contents: – [] (0) (unified-teller.js, line 3125)
[Log] 🚨 DEBUG: Updating View Cart button: – {hasItems: false, cartLength: 0} (unified-teller.js, line 3129)
[Log] 🚨 DEBUG: View Cart button updated - disabled: – true – "text:" – "View Cart" (unified-teller.js, line 3146)
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 2191)
[Log] 🚨 DEBUG: updateRecordTransactionButton() called (unified-teller.js, line 2194)
[Log] DEBUG: resetItemDisplay() called. Cart length: 0 (unified-teller.js, line 2208)
[Log] DEBUG: Clearing 0 input fields (unified-teller.js, line 2224)
[Log] No individual buy button found for item: – "Unbreakable Oath" (unified-teller.js, line 1149)
[Log] No sell button found for item: – "Unbreakable Oath" (unified-teller.js, line 1180)
[Log] No turn-in button found for item: – "Unbreakable Oath" (unified-teller.js, line 1195)
[Log] 🚨 DEBUG: resetItemDisplay() called (unified-teller.js, line 2198)
[Log] 🚨 DEBUG: showShopView() called (unified-teller.js, line 3081)
[Log] 🚨 DEBUG: Setting isCartView to false (unified-teller.js, line 3082)
[Log] 🚨 DEBUG: shopInventoryCard found: – true (unified-teller.js, line 3087)
[Log] 🚨 DEBUG: transactionSummaryCard found: – true (unified-teller.js, line 3094)
[Log] 🚨 DEBUG: Buttons found - viewCart: – true – "record:" – true – "back:" – true (unified-teller.js, line 3104)
[Log] 🚨 DEBUG: updateViewCartButton() called (unified-teller.js, line 3122)
[Log] 🚨 DEBUG: viewCartBtn found: – true (unified-teller.js, line 3123)
[Log] 🚨 DEBUG: cart length: – 0 (unified-teller.js, line 3124)
[Log] 🚨 DEBUG: cart contents: – [] (0) (unified-teller.js, line 3125)
[Log] 🚨 DEBUG: Updating View Cart button: – {hasItems: false, cartLength: 0} (unified-teller.js, line 3129)
[Log] 🚨 DEBUG: View Cart button updated - disabled: – true – "text:" – "View Cart" (unified-teller.js, line 3146)
[Log] 🚨 DEBUG: showShopView() called (unified-teller.js, line 2202)
[Log] 🚨🚨🚨 DEBUG: clearCart() completed - CART CLEARING FINISHED (unified-teller.js, line 2204)
[Log] Loading shop items for shop ID: – "138" – "rotation:" – "1" (unified-teller.js, line 660)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/shop-items?shop_id=138&rotation=1" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – {method: "GET", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}} (jotun-comprehensive-api.js, line 31)
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] DEBUG: About to force button state update. Cart length: 0 (unified-teller.js, line 2238)
[Log] 🚨 DEBUG: forceButtonStateUpdate() called, cart length: – 0 (unified-teller.js, line 2319)
[Log] 🚨 DEBUG: Cart contents: – [] (0) (unified-teller.js, line 2320)
[Log] 🚨 DEBUG: Found 0 turn-in buttons to update (unified-teller.js, line 2333)
[Log] 🚨 DEBUG: forceButtonStateUpdate() completed (unified-teller.js, line 2360)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {data: Array} (jotun-comprehensive-api.js, line 39)
{data: Array}Object
[Log] Raw shop items from API: – [Object] (1) (unified-teller.js, line 665)
[Object]Array (1)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/itemlist" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – {method: "GET", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}} (jotun-comprehensive-api.js, line 31)
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {data: Array} (jotun-comprehensive-api.js, line 39)
{data: Array}Object
[Log] Item list response: – {data: Array} (unified-teller.js, line 669)
{data: Array}Object
[Log] Enriched shop items: – [Object] (1) (unified-teller.js, line 722)
[Object]Array (1)
[Log] No individual buy button found for item: – "Unbreakable Oath" (unified-teller.js, line 1149)
[Log] No sell button found for item: – "Unbreakable Oath" (unified-teller.js, line 1180)
[Log] No turn-in button found for item: – "Unbreakable Oath" (unified-teller.js, line 1195)
[Log] getCurrentShopType: – {selectedShop: "138", selectedOption: <option>, shopType: "aesir"} (unified-teller.js, line 773)
{selectedShop: "138", selectedOption: <option>, shopType: "aesir"}Object
[Log] Setting up tracking interface: – {selectedShop: "138", shopType: "aesir", isTurnInOnly: false} (unified-teller.js, line 728)
[Log] 🔍 DEBUG Transaction History: selectedShop: – "138" (unified-teller.js, line 2594)
[Log] 🔍 DEBUG Transaction History: selectedOption: –  (unified-teller.js, line 2595)
<option value="138" data-shop-name="Aesir Spells & Items" data-shop-type="aesir" data-current-rotation="1">Aesir Spells & Items</option>

<option value="138" data-shop-name="Aesir Spells & Items" data-shop-type="aesir" data-current-rotation="1">Aesir Spells & Items</option>
[Log] 🔍 DEBUG Transaction History: shopName from dataset: – "Aesir Spells & Items" (unified-teller.js, line 2596)
[Log] 🔍 DEBUG Transaction History: shopType from dataset: – "aesir" (unified-teller.js, line 2597)
[Log] 🔍 DEBUG Transaction History: Aesir shop detected - ledger stores balances, not individual transactions (unified-teller.js, line 2609)
[Log] 🔍 DEBUG Transaction History: Added shop_name filter: – "Aesir Spells & Items" (unified-teller.js, line 2613)
[Log] 🔍 DEBUG Transaction History: Final params: – {shop_name: "Aesir Spells & Items", limit: 50} (unified-teller.js, line 2620)
[Log] Making API request: – "GET" – "/wp-json/jotun-api/v1/transactions?shop_name=Aesir+Spells+%26+Items&limit=50" – null (jotun-comprehensive-api.js, line 17)
[Log] Request config: – {method: "GET", headers: {Content-Type: "application/json", X-WP-Nonce: "16d4d0755d"}} (jotun-comprehensive-api.js, line 31)
[Log] Sending fetch request... (jotun-comprehensive-api.js, line 34)
[Log] Response received: – 200 – "OK" (jotun-comprehensive-api.js, line 36)
[Log] Response data: – {data: []} (jotun-comprehensive-api.js, line 39)
[Log] 🔍 DEBUG Transaction History: API response: – {data: []} (unified-teller.js, line 2622)
[Log] 🔍 DEBUG Render Transaction History: transactions received: – [] (0) (unified-teller.js, line 2639)
[Log] 🔍 DEBUG Render Transaction History: selectedShop: – "138" (unified-teller.js, line 2640)
[Log] 🔍 DEBUG Render Transaction History: Empty state message: – "<div class=\"transaction-item\">Aesir shops use a balance system (jotun_ledger) rather than individual transaction records</div>" (unified-teller.js, line 2660)